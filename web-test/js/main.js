(()=>{var r={606:r=>{var t=-1,e=1,n=0;function i(r,v,p,y,b){if(r===v)return r?[[n,r]]:[];if(null!=p){var A=function(r,t,e){var n="number"==typeof e?{index:e,length:0}:e.oldRange,i="number"==typeof e?null:e.newRange,s=r.length,a=t.length;if(0===n.length&&(null===i||0===i.length)){var o=n.index,l=r.slice(0,o),h=r.slice(o),u=i?i.index:null,f=o+a-s;if((null===u||u===f)&&!(f<0||f>a)){var g=t.slice(0,f);if((v=t.slice(f))===h){var c=Math.min(o,f);if((y=l.slice(0,c))===(A=g.slice(0,c)))return m(y,l.slice(c),g.slice(c),h)}}if(null===u||u===o){var d=o,v=(g=t.slice(0,d),t.slice(d));if(g===l){var p=Math.min(s-d,a-d);if((b=h.slice(h.length-p))===(w=v.slice(v.length-p)))return m(l,h.slice(0,h.length-p),v.slice(0,v.length-p),b)}}}if(n.length>0&&i&&0===i.length){var y=r.slice(0,n.index),b=r.slice(n.index+n.length);if(!(a<(c=y.length)+(p=b.length))){var A=t.slice(0,c),w=t.slice(a-p);if(y===A&&b===w)return m(y,r.slice(c,s-p),t.slice(c,a-p),b)}}return null}(r,v,p);if(A)return A}var w=a(r,v),E=r.substring(0,w);w=l(r=r.substring(w),v=v.substring(w));var x=r.substring(r.length-w),I=function(r,o){var h;if(!r)return[[e,o]];if(!o)return[[t,r]];var u=r.length>o.length?r:o,f=r.length>o.length?o:r,g=u.indexOf(f);if(-1!==g)return h=[[e,u.substring(0,g)],[n,f],[e,u.substring(g+f.length)]],r.length>o.length&&(h[0][0]=h[2][0]=t),h;if(1===f.length)return[[t,r],[e,o]];var c=function(r,t){var e=r.length>t.length?r:t,n=r.length>t.length?t:r;if(e.length<4||2*n.length<e.length)return null;function i(r,t,e){for(var n,i,s,o,h=r.substring(e,e+Math.floor(r.length/4)),u=-1,f="";-1!==(u=t.indexOf(h,u+1));){var g=a(r.substring(e),t.substring(u)),c=l(r.substring(0,e),t.substring(0,u));f.length<c+g&&(f=t.substring(u-c,u)+t.substring(u,u+g),n=r.substring(0,e-c),i=r.substring(e+g),s=t.substring(0,u-c),o=t.substring(u+g))}return 2*f.length>=r.length?[n,i,s,o,f]:null}var s,o,h,u,f,g=i(e,n,Math.ceil(e.length/4)),c=i(e,n,Math.ceil(e.length/2));return g||c?(s=c?g&&g[4].length>c[4].length?g:c:g,r.length>t.length?(o=s[0],h=s[1],u=s[2],f=s[3]):(u=s[0],f=s[1],o=s[2],h=s[3]),[o,h,u,f,s[4]]):null}(r,o);if(c){var d=c[0],v=c[1],p=c[2],y=c[3],b=c[4],m=i(d,p),A=i(v,y);return m.concat([[n,b]],A)}return function(r,n){for(var i=r.length,a=n.length,o=Math.ceil((i+a)/2),l=o,h=2*o,u=new Array(h),f=new Array(h),g=0;g<h;g++)u[g]=-1,f[g]=-1;u[l+1]=0,f[l+1]=0;for(var c=i-a,d=c%2!=0,v=0,p=0,y=0,b=0,m=0;m<o;m++){for(var A=-m+v;A<=m-p;A+=2){for(var w=l+A,E=(N=A===-m||A!==m&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-A;N<i&&E<a&&r.charAt(N)===n.charAt(E);)N++,E++;if(u[w]=N,N>i)p+=2;else if(E>a)v+=2;else if(d&&(M=l+c-A)>=0&&M<h&&-1!==f[M]&&N>=(I=i-f[M]))return s(r,n,N,E)}for(var x=-m+y;x<=m-b;x+=2){for(var I,M=l+x,R=(I=x===-m||x!==m&&f[M-1]<f[M+1]?f[M+1]:f[M-1]+1)-x;I<i&&R<a&&r.charAt(i-I-1)===n.charAt(a-R-1);)I++,R++;if(f[M]=I,I>i)b+=2;else if(R>a)y+=2;else if(!d){var N;if((w=l+c-x)>=0&&w<h&&-1!==u[w])if(E=l+(N=u[w])-w,N>=(I=i-I))return s(r,n,N,E)}}}return[[t,r],[e,n]]}(r,o)}(r=r.substring(0,r.length-w),v=v.substring(0,v.length-w));return E&&I.unshift([n,E]),x&&I.push([n,x]),d(I,b),y&&function(r){for(var i=!1,s=[],a=0,v=null,p=0,y=0,b=0,m=0,A=0;p<r.length;)r[p][0]==n?(s[a++]=p,y=m,b=A,m=0,A=0,v=r[p][1]):(r[p][0]==e?m+=r[p][1].length:A+=r[p][1].length,v&&v.length<=Math.max(y,b)&&v.length<=Math.max(m,A)&&(r.splice(s[a-1],0,[t,v]),r[s[a-1]+1][0]=e,a--,p=--a>0?s[a-1]:-1,y=0,b=0,m=0,A=0,v=null,i=!0)),p++;for(i&&d(r),function(r){function t(r,t){if(!r||!t)return 6;var e=r.charAt(r.length-1),n=t.charAt(0),i=e.match(h),s=n.match(h),a=i&&e.match(u),o=s&&n.match(u),l=a&&e.match(f),d=o&&n.match(f),v=l&&r.match(g),p=d&&t.match(c);return v||p?5:l||d?4:i&&!a&&o?3:a||o?2:i||s?1:0}for(var e=1;e<r.length-1;){if(r[e-1][0]==n&&r[e+1][0]==n){var i=r[e-1][1],s=r[e][1],a=r[e+1][1],o=l(i,s);if(o){var d=s.substring(s.length-o);i=i.substring(0,i.length-o),s=d+s.substring(0,s.length-o),a=d+a}for(var v=i,p=s,y=a,b=t(i,s)+t(s,a);s.charAt(0)===a.charAt(0);){i+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);var m=t(i,s)+t(s,a);m>=b&&(b=m,v=i,p=s,y=a)}r[e-1][1]!=v&&(v?r[e-1][1]=v:(r.splice(e-1,1),e--),r[e][1]=p,y?r[e+1][1]=y:(r.splice(e+1,1),e--))}e++}}(r),p=1;p<r.length;){if(r[p-1][0]==t&&r[p][0]==e){var w=r[p-1][1],E=r[p][1],x=o(w,E),I=o(E,w);x>=I?(x>=w.length/2||x>=E.length/2)&&(r.splice(p,0,[n,E.substring(0,x)]),r[p-1][1]=w.substring(0,w.length-x),r[p+1][1]=E.substring(x),p++):(I>=w.length/2||I>=E.length/2)&&(r.splice(p,0,[n,w.substring(0,I)]),r[p-1][0]=e,r[p-1][1]=E.substring(0,E.length-I),r[p+1][0]=t,r[p+1][1]=w.substring(I),p++),p++}p++}}(I),I}function s(r,t,e,n){var s=r.substring(0,e),a=t.substring(0,n),o=r.substring(e),l=t.substring(n),h=i(s,a),u=i(o,l);return h.concat(u)}function a(r,t){if(!r||!t||r.charAt(0)!==t.charAt(0))return 0;for(var e=0,n=Math.min(r.length,t.length),i=n,s=0;e<i;)r.substring(s,i)==t.substring(s,i)?s=e=i:n=i,i=Math.floor((n-e)/2+e);return v(r.charCodeAt(i-1))&&i--,i}function o(r,t){var e=r.length,n=t.length;if(0==e||0==n)return 0;e>n?r=r.substring(e-n):e<n&&(t=t.substring(0,e));var i=Math.min(e,n);if(r==t)return i;for(var s=0,a=1;;){var o=r.substring(i-a),l=t.indexOf(o);if(-1==l)return s;a+=l,0!=l&&r.substring(i-a)!=t.substring(0,a)||(s=a,a++)}}function l(r,t){if(!r||!t||r.slice(-1)!==t.slice(-1))return 0;for(var e=0,n=Math.min(r.length,t.length),i=n,s=0;e<i;)r.substring(r.length-i,r.length-s)==t.substring(t.length-i,t.length-s)?s=e=i:n=i,i=Math.floor((n-e)/2+e);return p(r.charCodeAt(r.length-i))&&i--,i}var h=/[^a-zA-Z0-9]/,u=/\s/,f=/[\r\n]/,g=/\n\r?\n$/,c=/^\r?\n\r?\n/;function d(r,i){r.push([n,""]);for(var s,o=0,h=0,u=0,f="",g="";o<r.length;)if(o<r.length-1&&!r[o][1])r.splice(o,1);else switch(r[o][0]){case e:u++,g+=r[o][1],o++;break;case t:h++,f+=r[o][1],o++;break;case n:var c=o-u-h-1;if(i){if(c>=0&&b(r[c][1])){var v=r[c][1].slice(-1);if(r[c][1]=r[c][1].slice(0,-1),f=v+f,g=v+g,!r[c][1]){r.splice(c,1),o--;var p=c-1;r[p]&&r[p][0]===e&&(u++,g=r[p][1]+g,p--),r[p]&&r[p][0]===t&&(h++,f=r[p][1]+f,p--),c=p}}y(r[o][1])&&(v=r[o][1].charAt(0),r[o][1]=r[o][1].slice(1),f+=v,g+=v)}if(o<r.length-1&&!r[o][1]){r.splice(o,1);break}if(f.length>0||g.length>0){f.length>0&&g.length>0&&(0!==(s=a(g,f))&&(c>=0?r[c][1]+=g.substring(0,s):(r.splice(0,0,[n,g.substring(0,s)]),o++),g=g.substring(s),f=f.substring(s)),0!==(s=l(g,f))&&(r[o][1]=g.substring(g.length-s)+r[o][1],g=g.substring(0,g.length-s),f=f.substring(0,f.length-s)));var m=u+h;0===f.length&&0===g.length?(r.splice(o-m,m),o-=m):0===f.length?(r.splice(o-m,m,[e,g]),o=o-m+1):0===g.length?(r.splice(o-m,m,[t,f]),o=o-m+1):(r.splice(o-m,m,[t,f],[e,g]),o=o-m+2)}0!==o&&r[o-1][0]===n?(r[o-1][1]+=r[o][1],r.splice(o,1)):o++,u=0,h=0,f="",g=""}""===r[r.length-1][1]&&r.pop();var A=!1;for(o=1;o<r.length-1;)r[o-1][0]===n&&r[o+1][0]===n&&(r[o][1].substring(r[o][1].length-r[o-1][1].length)===r[o-1][1]?(r[o][1]=r[o-1][1]+r[o][1].substring(0,r[o][1].length-r[o-1][1].length),r[o+1][1]=r[o-1][1]+r[o+1][1],r.splice(o-1,1),A=!0):r[o][1].substring(0,r[o+1][1].length)==r[o+1][1]&&(r[o-1][1]+=r[o+1][1],r[o][1]=r[o][1].substring(r[o+1][1].length)+r[o+1][1],r.splice(o+1,1),A=!0)),o++;A&&d(r,i)}function v(r){return r>=55296&&r<=56319}function p(r){return r>=56320&&r<=57343}function y(r){return p(r.charCodeAt(0))}function b(r){return v(r.charCodeAt(r.length-1))}function m(r,i,s,a){return b(r)||y(a)?null:function(r){for(var t=[],e=0;e<r.length;e++)r[e][1].length>0&&t.push(r[e]);return t}([[n,r],[t,i],[e,s],[n,a]])}function A(r,t,e,n){return i(r,t,e,n,!0)}A.INSERT=e,A.DELETE=t,A.EQUAL=n,r.exports=A},124:(r,t,e)=>{const n=e(606);r.exports=function(r,t){const e=n(r,t);for(let r=0;r<e.length;r++){const t=e[r];t[0]<1&&(t[1]=t[1].length)}return e}},970:r=>{r.exports=function(r,t){let e="",n=0;for(let i=0;i<t.length;i++){const s=t[i],a=s[0],o=s[1];-1==a?n+=o:e+=0==a?r.slice(n,n+=o):o}return e}}},t={};function e(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return r[n](s,s.exports,e),s.exports}(()=>{"use strict";const r=r=>document.querySelector(r);var t=Uint8Array,n=Uint16Array,i=Int32Array,s=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(r,t){for(var e=new n(31),s=0;s<31;++s)e[s]=t+=1<<r[s-1];var a=new i(e[30]);for(s=1;s<30;++s)for(var o=e[s];o<e[s+1];++o)a[o]=o-e[s]<<5|s;return{b:e,r:a}},h=l(s,2),u=h.b,f=h.r;u[28]=258,f[258]=28;for(var g=l(a,0),c=g.b,d=g.r,v=new n(32768),p=0;p<32768;++p){var y=(43690&p)>>1|(21845&p)<<1;y=(61680&(y=(52428&y)>>2|(13107&y)<<2))>>4|(3855&y)<<4,v[p]=((65280&y)>>8|(255&y)<<8)>>1}var b=function(r,t,e){for(var i=r.length,s=0,a=new n(t);s<i;++s)r[s]&&++a[r[s]-1];var o,l=new n(t);for(s=1;s<t;++s)l[s]=l[s-1]+a[s-1]<<1;if(e){o=new n(1<<t);var h=15-t;for(s=0;s<i;++s)if(r[s])for(var u=s<<4|r[s],f=t-r[s],g=l[r[s]-1]++<<f,c=g|(1<<f)-1;g<=c;++g)o[v[g]>>h]=u}else for(o=new n(i),s=0;s<i;++s)r[s]&&(o[s]=v[l[r[s]-1]++]>>15-r[s]);return o},m=new t(288);for(p=0;p<144;++p)m[p]=8;for(p=144;p<256;++p)m[p]=9;for(p=256;p<280;++p)m[p]=7;for(p=280;p<288;++p)m[p]=8;var A=new t(32);for(p=0;p<32;++p)A[p]=5;var w=b(m,9,0),E=b(m,9,1),x=b(A,5,0),I=b(A,5,1),M=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},R=function(r,t,e){var n=t/8|0;return(r[n]|r[n+1]<<8)>>(7&t)&e},N=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(7&t)},J=function(r){return(r+7)/8|0},j=function(r,e,n){return(null==e||e<0)&&(e=0),(null==n||n>r.length)&&(n=r.length),new t(r.subarray(e,n))},H=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],S=function(r,t,e){var n=new Error(t||H[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,S),!e)throw n;return n},C=function(r,t,e){e<<=7&t;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},U=function(r,t,e){e<<=7&t;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},D=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:V,l:0};if(1==a){var l=new t(i[0].s+1);return l[i[0].s]=1,{t:l,l:1}}i.sort((function(r,t){return r.f-t.f})),i.push({s:-1,f:25001});var h=i[0],u=i[1],f=0,g=1,c=2;for(i[0]={s:-1,f:h.f+u.f,l:h,r:u};g!=a-1;)h=i[i[f].f<i[c].f?f++:c++],u=i[f!=g&&i[f].f<i[c].f?f++:c++],i[g++]={s:-1,f:h.f+u.f,l:h,r:u};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var v=new n(d+1),p=k(i[g-1],v,0);if(p>e){s=0;var y=0,b=p-e,m=1<<b;for(o.sort((function(r,t){return v[t.s]-v[r.s]||r.f-t.f}));s<a;++s){var A=o[s].s;if(!(v[A]>e))break;y+=m-(1<<p-v[A]),v[A]=e}for(y>>=b;y>0;){var w=o[s].s;v[w]<e?y-=1<<e-v[w]++-1:++s}for(;s>=0&&y;--s){var E=o[s].s;v[E]==e&&(--v[E],++y)}p=e}return{t:new t(v),l:p}},k=function(r,t,e){return-1==r.s?Math.max(k(r.l,t,e+1),k(r.r,t,e+1)):t[r.s]=e},O=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new n(++t),i=0,s=r[0],a=1,o=function(r){e[i++]=r},l=1;l<=t;++l)if(r[l]==s&&l!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=r[l]}return{c:e.subarray(0,i),n:t}},T=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},L=function(r,t,e){var n=e.length,i=J(t+2);r[i]=255&n,r[i+1]=n>>8,r[i+2]=255^r[i],r[i+3]=255^r[i+1];for(var s=0;s<n;++s)r[i+s+4]=e[s];return 8*(i+4+n)},W=function(r,t,e,i,l,h,u,f,g,c,d){C(t,d++,e),++l[256];for(var v=D(l,15),p=v.t,y=v.l,E=D(h,15),I=E.t,M=E.l,R=O(p),N=R.c,J=R.n,j=O(I),H=j.c,S=j.n,k=new n(19),W=0;W<N.length;++W)++k[31&N[W]];for(W=0;W<H.length;++W)++k[31&H[W]];for(var G=D(k,7),V=G.t,Y=G.l,K=19;K>4&&!V[o[K-1]];--K);var F,Q,z,B,q=c+5<<3,X=T(l,m)+T(h,A)+u,_=T(l,p)+T(h,I)+u+14+3*K+T(k,V)+2*k[16]+3*k[17]+7*k[18];if(g>=0&&q<=X&&q<=_)return L(t,d,r.subarray(g,g+c));if(C(t,d,1+(_<X)),d+=2,_<X){F=b(p,y,0),Q=p,z=b(I,M,0),B=I;var P=b(V,Y,0);for(C(t,d,J-257),C(t,d+5,S-1),C(t,d+10,K-4),d+=14,W=0;W<K;++W)C(t,d+3*W,V[o[W]]);d+=3*K;for(var $=[N,H],Z=0;Z<2;++Z){var rr=$[Z];for(W=0;W<rr.length;++W){var tr=31&rr[W];C(t,d,P[tr]),d+=V[tr],tr>15&&(C(t,d,rr[W]>>5&127),d+=rr[W]>>12)}}}else F=w,Q=m,z=x,B=A;for(W=0;W<f;++W){var er=i[W];if(er>255){U(t,d,F[257+(tr=er>>18&31)]),d+=Q[tr+257],tr>7&&(C(t,d,er>>23&31),d+=s[tr]);var nr=31&er;U(t,d,z[nr]),d+=B[nr],nr>3&&(U(t,d,er>>5&8191),d+=a[nr])}else U(t,d,F[er]),d+=Q[er]}return U(t,d,F[256]),d+Q[256]},G=new i([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),V=new t(0),Y=function(r,e,o,l,h){if(!h&&(h={l:1},e.dictionary)){var u=e.dictionary.subarray(-32768),g=new t(u.length+r.length);g.set(u),g.set(r,u.length),r=g,h.w=u.length}return function(r,e,o,l,h,u){var g=u.z||r.length,c=new t(l+g+5*(1+Math.ceil(g/7e3))+h),v=c.subarray(l,c.length-h),p=u.l,y=7&(u.r||0);if(e){y&&(v[0]=u.r>>3);for(var b=G[e-1],m=b>>13,A=8191&b,w=(1<<o)-1,E=u.p||new n(32768),x=u.h||new n(w+1),I=Math.ceil(o/3),M=2*I,R=function(t){return(r[t]^r[t+1]<<I^r[t+2]<<M)&w},N=new i(25e3),H=new n(288),S=new n(32),C=0,U=0,D=u.i||0,k=0,O=u.w||0,T=0;D+2<g;++D){var V=R(D),Y=32767&D,K=x[V];if(E[Y]=K,x[V]=Y,O<=D){var F=g-D;if((C>7e3||k>24576)&&(F>423||!p)){y=W(r,v,0,N,H,S,U,k,T,D-T,y),k=C=U=0,T=D;for(var Q=0;Q<286;++Q)H[Q]=0;for(Q=0;Q<30;++Q)S[Q]=0}var z=2,B=0,q=A,X=Y-K&32767;if(F>2&&V==R(D-X))for(var _=Math.min(m,F)-1,P=Math.min(32767,D),$=Math.min(258,F);X<=P&&--q&&Y!=K;){if(r[D+z]==r[D+z-X]){for(var Z=0;Z<$&&r[D+Z]==r[D+Z-X];++Z);if(Z>z){if(z=Z,B=X,Z>_)break;var rr=Math.min(X,Z-2),tr=0;for(Q=0;Q<rr;++Q){var er=D-X+Q&32767,nr=er-E[er]&32767;nr>tr&&(tr=nr,K=er)}}}X+=(Y=K)-(K=E[Y])&32767}if(B){N[k++]=268435456|f[z]<<18|d[B];var ir=31&f[z],sr=31&d[B];U+=s[ir]+a[sr],++H[257+ir],++S[sr],O=D+z,++C}else N[k++]=r[D],++H[r[D]]}}for(D=Math.max(D,O);D<g;++D)N[k++]=r[D],++H[r[D]];y=W(r,v,p,N,H,S,U,k,T,D-T,y),p||(u.r=7&y|v[y/8|0]<<3,y-=7,u.h=x,u.p=E,u.i=D,u.w=O)}else{for(D=u.w||0;D<g+p;D+=65535){var ar=D+65535;ar>=g&&(v[y/8|0]=p,ar=g),y=L(v,y+1,r.subarray(D,ar))}u.i=g}return j(c,0,l+J(y)+h)}(r,null==e.level?6:e.level,null==e.mem?h.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):20:12+e.mem,o,l,h)};function K(r,e){return function(r,e,n,i){var l=r.length,h=i?i.length:0;if(!l||e.f&&!e.l)return n||new t(0);var f=!n,g=f||2!=e.i,d=e.i;f&&(n=new t(3*l));var v=function(r){var e=n.length;if(r>e){var i=new t(Math.max(2*e,r));i.set(n),n=i}},p=e.f||0,y=e.p||0,m=e.b||0,A=e.l,w=e.d,x=e.m,H=e.n,C=8*l;do{if(!A){p=R(r,y,1);var U=R(r,y+1,3);if(y+=3,!U){var D=r[(Q=J(y)+4)-4]|r[Q-3]<<8,k=Q+D;if(k>l){d&&S(0);break}g&&v(m+D),n.set(r.subarray(Q,k),m),e.b=m+=D,e.p=y=8*k,e.f=p;continue}if(1==U)A=E,w=I,x=9,H=5;else if(2==U){var O=R(r,y,31)+257,T=R(r,y+10,15)+4,L=O+R(r,y+5,31)+1;y+=14;for(var W=new t(L),G=new t(19),V=0;V<T;++V)G[o[V]]=R(r,y+3*V,7);y+=3*T;var Y=M(G),K=(1<<Y)-1,F=b(G,Y,1);for(V=0;V<L;){var Q,z=F[R(r,y,K)];if(y+=15&z,(Q=z>>4)<16)W[V++]=Q;else{var B=0,q=0;for(16==Q?(q=3+R(r,y,3),y+=2,B=W[V-1]):17==Q?(q=3+R(r,y,7),y+=3):18==Q&&(q=11+R(r,y,127),y+=7);q--;)W[V++]=B}}var X=W.subarray(0,O),_=W.subarray(O);x=M(X),H=M(_),A=b(X,x,1),w=b(_,H,1)}else S(1);if(y>C){d&&S(0);break}}g&&v(m+131072);for(var P=(1<<x)-1,$=(1<<H)-1,Z=y;;Z=y){var rr=(B=A[N(r,y)&P])>>4;if((y+=15&B)>C){d&&S(0);break}if(B||S(2),rr<256)n[m++]=rr;else{if(256==rr){Z=y,A=null;break}var tr=rr-254;if(rr>264){var er=s[V=rr-257];tr=R(r,y,(1<<er)-1)+u[V],y+=er}var nr=w[N(r,y)&$],ir=nr>>4;if(nr||S(3),y+=15&nr,_=c[ir],ir>3&&(er=a[ir],_+=N(r,y)&(1<<er)-1,y+=er),y>C){d&&S(0);break}g&&v(m+131072);var sr=m+tr;if(m<_){var ar=h-_,or=Math.min(_,sr);for(ar+m<0&&S(3);m<or;++m)n[m]=i[ar+m]}for(;m<sr;++m)n[m]=n[m-_]}}e.l=A,e.p=Z,e.b=m,e.f=p,A&&(p=1,e.m=x,e.d=w,e.n=H)}while(!p);return m!=n.length&&f?j(n,0,m):n.subarray(0,m)}(r,{i:2},e&&e.out,e&&e.dictionary)}var F="undefined"!=typeof TextEncoder&&new TextEncoder,Q="undefined"!=typeof TextDecoder&&new TextDecoder;try{Q.decode(V,{stream:!0})}catch(r){}function z(r,t){if(t){for(var e="",n=0;n<r.length;n+=16384)e+=String.fromCharCode.apply(null,r.subarray(n,n+16384));return e}if(Q)return Q.decode(r);var i=function(r){for(var t="",e=0;;){var n=r[e++],i=(n>127)+(n>223)+(n>239);if(e+i>r.length)return{s:t,r:j(r,e-1)};i?3==i?(n=((15&n)<<18|(63&r[e++])<<12|(63&r[e++])<<6|63&r[e++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&r[e++]):String.fromCharCode((15&n)<<12|(63&r[e++])<<6|63&r[e++]):t+=String.fromCharCode(n)}}(r),s=i.s;return(e=i.r).length&&S(8),s}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var B=e(124),q=e(970);const X=(r,t)=>B(JSON.stringify(r),JSON.stringify(t)),_=(r,t)=>JSON.parse(q(JSON.stringify(r),t)),P=(r,t)=>[r,t],$=r=>({type:r[0],edit:r[1]}),Z=r=>{return e=function(r,e){if(e){for(var n=new t(r.length),i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}if(F)return F.encode(r);var s=r.length,a=new t(r.length+(r.length>>1)),o=0,l=function(r){a[o++]=r};for(i=0;i<s;++i){if(o+5>a.length){var h=new t(o+8+(s-i<<1));h.set(a),a=h}var u=r.charCodeAt(i);u<128||e?l(u):u<2048?(l(192|u>>6),l(128|63&u)):u>55295&&u<57344?(l(240|(u=65536+(1047552&u)|1023&r.charCodeAt(++i))>>18),l(128|u>>12&63),l(128|u>>6&63),l(128|63&u)):(l(224|u>>12),l(128|u>>6&63),l(128|63&u))}return j(a,0,o)}(r),Y(e,n||{},0,0);var e,n},rr=r=>z(K(r));class tr{constructor({patchAlgorithm:r,iframeInterval:t}){this.IFRAME_INTERVAL=t||20,this.PATCH_ALGORITHM=r||"progressive",this.editHistory=[]}editHistoryEnd(){return this.editHistory.length-1}#r(r){for(let t=r;t>=0;t--){let r=this.editHistory[t];if("i"===r[0])return{edit:$(r).edit,index:t}}return null}#t(){return this.#r(this.editHistoryEnd())}reviveLastEdit(){return this.reviveEdit(this.editHistoryEnd())}reviveEdit(r){const t=this.#r(r);if(!t)throw new Error("Invalid history: no iframe found");if(t.index===r)return JSON.parse(rr(t.edit));switch(this.PATCH_ALGORITHM){case"direct":const e=$(this.editHistory[r]);return _(JSON.parse(rr(t.edit)),JSON.parse(rr(e.edit)));case"progressive":let n=JSON.parse(rr(t.edit));for(let e=t.index+1;e<=r;e++)n=_(n,JSON.parse(rr($(this.editHistory[e]).edit)));return n;default:throw new Error("Unsupported patch algorithm")}}#e(r){const t=Z(JSON.stringify(r));this.editHistory.push(P("i",t))}#n(r){const t=this.#t();if(!t)throw new Error("Unable to add pframe: no iframe found");switch(this.PATCH_ALGORITHM){case"direct":const e=Z(JSON.stringify(X(JSON.parse(rr(t.edit)),r)));this.editHistory.push(P("p",e));break;case"progressive":const n=Z(JSON.stringify(X(this.reviveLastEdit(),r)));this.editHistory.push(P("p",n));break;default:throw new Error("Unsupported patch algorithm")}}add(r){const t=this.#t();null===t||this.editHistory.length-t.index>this.IFRAME_INTERVAL?this.#e(r):this.#n(r)}dumpEditHistory(){return this.editHistory.map((r=>`${r[0]}.${(r=>btoa(String.fromCharCode.apply(null,r)))(r[1])}`))}}const er=new class{#i;#s;constructor(r){this.#i=new tr({patchAlgorithm:r?.patchAlgorithm,iframeInterval:r?.iframeInterval}),this.#s=0}get editHistory(){return this.#i.editHistory}get currentIndex(){return this.#s}add(r){this.#s<this.#i.editHistoryEnd()&&this.#i.editHistory.splice(this.#s+1,this.#i.editHistory.length),this.#i.add(r),this.#s=this.#i.editHistoryEnd()}loadFullHistory(r){this.#i.editHistory.splice(0,this.#i.editHistory.length),[].push.apply(this.#i.editHistory,r),this.#s=this.#i.editHistoryEnd()}undo(r){this.#s>0&&(this.#s--,r&&r(this.#i.reviveEdit(this.#s)))}redo(r){this.#s<this.#i.editHistoryEnd()&&(this.#s++,r&&r(this.#i.reviveEdit(this.#s)))}dumpEditHistory(){return this.#i.dumpEditHistory().map(((r,t)=>t===this.#s?`-> ${r}`:`   ${r}`))}};let nr="";const ir=()=>{const t=er.editHistory.reduce(((r,t)=>r+1+t[1].length),0);r("#history-log").innerText=`size: ${t} bytes\n\n`+er.dumpEditHistory().join("\n")},sr=["i.q64FAA==","p.i4420DGM1Yk21FGKUcpIzcnJj1GyigGylYCCIKlYAA==","p.i4420DE0iNWJNtRRKs8vyklRArINdIxiYwE=","p.i4420DE0i9WJNtRR0olRyivNTUotKo5RsoqOVQKKAiVjYwE=","p.i4420DGyiNWJNtRRMtQxUgKygAKxsQA=","p.i4420DE2jNWJNtRR0jFWAjIMdIxiYwE=","p.i4420DE2jtWJNtRR0jHRMdUxUwJyDHSMYmMB","p.i4420DExiNWJNtRR0olRKkmtKIlRsopRilFSAgoa6BjGxgIA","p.i4420DGxjNWJNtRRCslIVQKyDHSMYmMB","p.i4420DE1itWJNtRRUigszUzOVkgqyi/PU0jLr1ACChvoGMXGAgA=","p.i4420DGziNWJNtRRUsgqzS0oVsgvSy1SAooY6BjFxgIA","p.i4420DG3jNWJNtRRUijJSFUCMg10jGJjAQ==","p.i4420LEwjtWJNtRRykmsqlRIUQJyDHSMYmMB","p.i4420LEwjtWJNtRRUlAC0kBubCwA","p.i4420LE0iNWJNtRRyk9XAjIMdIxiYwE=","p.i4420LE0itWJNtRR0lMC0gY6RrGxAA==","p.i4420DE2jtWJ1jXUMQNSBjqmZrGxAA==","p.i4420DG0iNWJNtRRKijKzE1VArINdMwNY2MB","p.i4420DEyjtWJNtRRilcC0gY65oaxsQA=","p.i4420DE2i9WJ1jXUMQJSBjqm5rGxAA==","p.i4420DE2j9WJNtRR0jFVAjIMdEzNYmMB","i.DcpJCoRADADAr4Scw8AgIvgObyLiEtduo7HbFf+u56obOzZGMMZd1NRIOGtvOZ+8LVlXjNM/BRRSlBE6PtwXk45h8X01QqmyT9DIAYO38wqysYL72BTXCbW0P3xe","p.i4420DExjNWJNtRR0jE01DE0VgJyDHRMzWJjAQ==","p.i4420DE0MIrViTbUUdKJUSoszS9JLY5RsoqOVQIKAiVjYwE=","p.i4420DE0NI7ViTbUUYpR8kssyM9Jzc+LUVICChnoGMXGAgA=","p.i4420DE0NIrVidY11DEEUoY6StVKQBoobIAiahWjFKNUC5WKjQUA","p.i4420DE0Mo3ViTbUUXJMyklVKE8sVvDUUQKKGOgYx8YCAA==","p.i4420DE0NovViTbUUVJILUpV8FQoTixXSM1JSlQCihroGMfGAgA=","p.i4420DE2i9WJNtRRMtJRAjIMdAwNLWJjAQ=="].map((r=>{let t=r.split(".");var e;return t[1]=(e=t[1],atob(e).split("").map((function(r){return r.charCodeAt(0)}))),t})),ar={hello:"world",prime_numbers:[1,2,3,5,7,11,13],text:"The quick brown fox jumps over the lazy dog.",quotes:{Napoleon:"Able was I, ere I saw elba"}};window.ObjHistory=history,(()=>{let t;window.addEventListener("load",(()=>{const e=r("json-editor"),n=r("#undoBtn"),i=r("#redoBtn");e.addEventListener("keyup",(r=>{var n;e.is_valid()&&e.value!=nr&&(n=()=>{er.add(e.json_value),nr=e.value,ir()},clearTimeout(t),t=setTimeout(n,500))})),n.onclick=r=>{er.undo((r=>{e.json_value=r,nr=e.value,ir()}))},i.onclick=r=>{er.redo((r=>{e.json_value=r,nr=e.value,ir()}))}}))})(),window.addEventListener("load",(()=>{r("#loadSample").onclick=()=>{var t;r("json-editor").value=JSON.stringify(ar),t=sr,er.loadFullHistory(t),ir()}}))})()})();