(()=>{var r={606:r=>{var t=-1,n=1,e=0;function i(r,d,p,b,w){if(r===d)return r?[[e,r]]:[];if(null!=p){var m=function(r,t,n){var e="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,a=r.length,l=t.length;if(0===e.length&&(null===i||0===i.length)){var o=e.index,s=r.slice(0,o),f=r.slice(o),u=i?i.index:null,g=o+l-a;if((null===u||u===g)&&!(g<0||g>l)){var h=t.slice(0,g);if((d=t.slice(g))===f){var c=Math.min(o,g);if((b=s.slice(0,c))===(m=h.slice(0,c)))return y(b,s.slice(c),h.slice(c),f)}}if(null===u||u===o){var v=o,d=(h=t.slice(0,v),t.slice(v));if(h===s){var p=Math.min(a-v,l-v);if((w=f.slice(f.length-p))===(A=d.slice(d.length-p)))return y(s,f.slice(0,f.length-p),d.slice(0,d.length-p),w)}}}if(e.length>0&&i&&0===i.length){var b=r.slice(0,e.index),w=r.slice(e.index+e.length);if(!(l<(c=b.length)+(p=w.length))){var m=t.slice(0,c),A=t.slice(l-p);if(b===m&&w===A)return y(b,r.slice(c,a-p),t.slice(c,l-p),w)}}return null}(r,d,p);if(m)return m}var A=l(r,d),M=r.substring(0,A);A=s(r=r.substring(A),d=d.substring(A));var N=r.substring(r.length-A),R=function(r,o){var f;if(!r)return[[n,o]];if(!o)return[[t,r]];var u=r.length>o.length?r:o,g=r.length>o.length?o:r,h=u.indexOf(g);if(-1!==h)return f=[[n,u.substring(0,h)],[e,g],[n,u.substring(h+g.length)]],r.length>o.length&&(f[0][0]=f[2][0]=t),f;if(1===g.length)return[[t,r],[n,o]];var c=function(r,t){var n=r.length>t.length?r:t,e=r.length>t.length?t:r;if(n.length<4||2*e.length<n.length)return null;function i(r,t,n){for(var e,i,a,o,f=r.substring(n,n+Math.floor(r.length/4)),u=-1,g="";-1!==(u=t.indexOf(f,u+1));){var h=l(r.substring(n),t.substring(u)),c=s(r.substring(0,n),t.substring(0,u));g.length<c+h&&(g=t.substring(u-c,u)+t.substring(u,u+h),e=r.substring(0,n-c),i=r.substring(n+h),a=t.substring(0,u-c),o=t.substring(u+h))}return 2*g.length>=r.length?[e,i,a,o,g]:null}var a,o,f,u,g,h=i(n,e,Math.ceil(n.length/4)),c=i(n,e,Math.ceil(n.length/2));return h||c?(a=c?h&&h[4].length>c[4].length?h:c:h,r.length>t.length?(o=a[0],f=a[1],u=a[2],g=a[3]):(u=a[0],g=a[1],o=a[2],f=a[3]),[o,f,u,g,a[4]]):null}(r,o);if(c){var v=c[0],d=c[1],p=c[2],b=c[3],w=c[4],y=i(v,p),m=i(d,b);return y.concat([[e,w]],m)}return function(r,e){for(var i=r.length,l=e.length,o=Math.ceil((i+l)/2),s=o,f=2*o,u=new Array(f),g=new Array(f),h=0;h<f;h++)u[h]=-1,g[h]=-1;u[s+1]=0,g[s+1]=0;for(var c=i-l,v=c%2!=0,d=0,p=0,b=0,w=0,y=0;y<o;y++){for(var m=-y+d;m<=y-p;m+=2){for(var A=s+m,M=(x=m===-y||m!==y&&u[A-1]<u[A+1]?u[A+1]:u[A-1]+1)-m;x<i&&M<l&&r.charAt(x)===e.charAt(M);)x++,M++;if(u[A]=x,x>i)p+=2;else if(M>l)d+=2;else if(v&&(E=s+c-m)>=0&&E<f&&-1!==g[E]&&x>=(R=i-g[E]))return a(r,e,x,M)}for(var N=-y+b;N<=y-w;N+=2){for(var R,E=s+N,J=(R=N===-y||N!==y&&g[E-1]<g[E+1]?g[E+1]:g[E-1]+1)-N;R<i&&J<l&&r.charAt(i-R-1)===e.charAt(l-J-1);)R++,J++;if(g[E]=R,R>i)w+=2;else if(J>l)b+=2;else if(!v){var x;if((A=s+c-N)>=0&&A<f&&-1!==u[A])if(M=s+(x=u[A])-A,x>=(R=i-R))return a(r,e,x,M)}}}return[[t,r],[n,e]]}(r,o)}(r=r.substring(0,r.length-A),d=d.substring(0,d.length-A));return M&&R.unshift([e,M]),N&&R.push([e,N]),v(R,w),b&&function(r){for(var i=!1,a=[],l=0,d=null,p=0,b=0,w=0,y=0,m=0;p<r.length;)r[p][0]==e?(a[l++]=p,b=y,w=m,y=0,m=0,d=r[p][1]):(r[p][0]==n?y+=r[p][1].length:m+=r[p][1].length,d&&d.length<=Math.max(b,w)&&d.length<=Math.max(y,m)&&(r.splice(a[l-1],0,[t,d]),r[a[l-1]+1][0]=n,l--,p=--l>0?a[l-1]:-1,b=0,w=0,y=0,m=0,d=null,i=!0)),p++;for(i&&v(r),function(r){function t(r,t){if(!r||!t)return 6;var n=r.charAt(r.length-1),e=t.charAt(0),i=n.match(f),a=e.match(f),l=i&&n.match(u),o=a&&e.match(u),s=l&&n.match(g),v=o&&e.match(g),d=s&&r.match(h),p=v&&t.match(c);return d||p?5:s||v?4:i&&!l&&o?3:l||o?2:i||a?1:0}for(var n=1;n<r.length-1;){if(r[n-1][0]==e&&r[n+1][0]==e){var i=r[n-1][1],a=r[n][1],l=r[n+1][1],o=s(i,a);if(o){var v=a.substring(a.length-o);i=i.substring(0,i.length-o),a=v+a.substring(0,a.length-o),l=v+l}for(var d=i,p=a,b=l,w=t(i,a)+t(a,l);a.charAt(0)===l.charAt(0);){i+=a.charAt(0),a=a.substring(1)+l.charAt(0),l=l.substring(1);var y=t(i,a)+t(a,l);y>=w&&(w=y,d=i,p=a,b=l)}r[n-1][1]!=d&&(d?r[n-1][1]=d:(r.splice(n-1,1),n--),r[n][1]=p,b?r[n+1][1]=b:(r.splice(n+1,1),n--))}n++}}(r),p=1;p<r.length;){if(r[p-1][0]==t&&r[p][0]==n){var A=r[p-1][1],M=r[p][1],N=o(A,M),R=o(M,A);N>=R?(N>=A.length/2||N>=M.length/2)&&(r.splice(p,0,[e,M.substring(0,N)]),r[p-1][1]=A.substring(0,A.length-N),r[p+1][1]=M.substring(N),p++):(R>=A.length/2||R>=M.length/2)&&(r.splice(p,0,[e,A.substring(0,R)]),r[p-1][0]=n,r[p-1][1]=M.substring(0,M.length-R),r[p+1][0]=t,r[p+1][1]=A.substring(R),p++),p++}p++}}(R),R}function a(r,t,n,e){var a=r.substring(0,n),l=t.substring(0,e),o=r.substring(n),s=t.substring(e),f=i(a,l),u=i(o,s);return f.concat(u)}function l(r,t){if(!r||!t||r.charAt(0)!==t.charAt(0))return 0;for(var n=0,e=Math.min(r.length,t.length),i=e,a=0;n<i;)r.substring(a,i)==t.substring(a,i)?a=n=i:e=i,i=Math.floor((e-n)/2+n);return d(r.charCodeAt(i-1))&&i--,i}function o(r,t){var n=r.length,e=t.length;if(0==n||0==e)return 0;n>e?r=r.substring(n-e):n<e&&(t=t.substring(0,n));var i=Math.min(n,e);if(r==t)return i;for(var a=0,l=1;;){var o=r.substring(i-l),s=t.indexOf(o);if(-1==s)return a;l+=s,0!=s&&r.substring(i-l)!=t.substring(0,l)||(a=l,l++)}}function s(r,t){if(!r||!t||r.slice(-1)!==t.slice(-1))return 0;for(var n=0,e=Math.min(r.length,t.length),i=e,a=0;n<i;)r.substring(r.length-i,r.length-a)==t.substring(t.length-i,t.length-a)?a=n=i:e=i,i=Math.floor((e-n)/2+n);return p(r.charCodeAt(r.length-i))&&i--,i}var f=/[^a-zA-Z0-9]/,u=/\s/,g=/[\r\n]/,h=/\n\r?\n$/,c=/^\r?\n\r?\n/;function v(r,i){r.push([e,""]);for(var a,o=0,f=0,u=0,g="",h="";o<r.length;)if(o<r.length-1&&!r[o][1])r.splice(o,1);else switch(r[o][0]){case n:u++,h+=r[o][1],o++;break;case t:f++,g+=r[o][1],o++;break;case e:var c=o-u-f-1;if(i){if(c>=0&&w(r[c][1])){var d=r[c][1].slice(-1);if(r[c][1]=r[c][1].slice(0,-1),g=d+g,h=d+h,!r[c][1]){r.splice(c,1),o--;var p=c-1;r[p]&&r[p][0]===n&&(u++,h=r[p][1]+h,p--),r[p]&&r[p][0]===t&&(f++,g=r[p][1]+g,p--),c=p}}b(r[o][1])&&(d=r[o][1].charAt(0),r[o][1]=r[o][1].slice(1),g+=d,h+=d)}if(o<r.length-1&&!r[o][1]){r.splice(o,1);break}if(g.length>0||h.length>0){g.length>0&&h.length>0&&(0!==(a=l(h,g))&&(c>=0?r[c][1]+=h.substring(0,a):(r.splice(0,0,[e,h.substring(0,a)]),o++),h=h.substring(a),g=g.substring(a)),0!==(a=s(h,g))&&(r[o][1]=h.substring(h.length-a)+r[o][1],h=h.substring(0,h.length-a),g=g.substring(0,g.length-a)));var y=u+f;0===g.length&&0===h.length?(r.splice(o-y,y),o-=y):0===g.length?(r.splice(o-y,y,[n,h]),o=o-y+1):0===h.length?(r.splice(o-y,y,[t,g]),o=o-y+1):(r.splice(o-y,y,[t,g],[n,h]),o=o-y+2)}0!==o&&r[o-1][0]===e?(r[o-1][1]+=r[o][1],r.splice(o,1)):o++,u=0,f=0,g="",h=""}""===r[r.length-1][1]&&r.pop();var m=!1;for(o=1;o<r.length-1;)r[o-1][0]===e&&r[o+1][0]===e&&(r[o][1].substring(r[o][1].length-r[o-1][1].length)===r[o-1][1]?(r[o][1]=r[o-1][1]+r[o][1].substring(0,r[o][1].length-r[o-1][1].length),r[o+1][1]=r[o-1][1]+r[o+1][1],r.splice(o-1,1),m=!0):r[o][1].substring(0,r[o+1][1].length)==r[o+1][1]&&(r[o-1][1]+=r[o+1][1],r[o][1]=r[o][1].substring(r[o+1][1].length)+r[o+1][1],r.splice(o+1,1),m=!0)),o++;m&&v(r,i)}function d(r){return r>=55296&&r<=56319}function p(r){return r>=56320&&r<=57343}function b(r){return p(r.charCodeAt(0))}function w(r){return d(r.charCodeAt(r.length-1))}function y(r,i,a,l){return w(r)||b(l)?null:function(r){for(var t=[],n=0;n<r.length;n++)r[n][1].length>0&&t.push(r[n]);return t}([[e,r],[t,i],[n,a],[e,l]])}function m(r,t,n,e){return i(r,t,n,e,!0)}m.INSERT=n,m.DELETE=t,m.EQUAL=e,r.exports=m},124:(r,t,n)=>{const e=n(606);r.exports=function(r,t){const n=e(r,t);for(let r=0;r<n.length;r++){const t=n[r];t[0]<1&&(t[1]=t[1].length)}return n}},970:r=>{r.exports=function(r,t){let n="",e=0;for(let i=0;i<t.length;i++){const a=t[i],l=a[0],o=a[1];-1==l?e+=o:n+=0==l?r.slice(e,e+=o):o}return n}}},t={};function n(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,n),a.exports}n.d=(r,t)=>{for(var e in t)n.o(t,e)&&!n.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:t[e]})},n.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),n.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},(()=>{"use strict";var r={};n.r(r),n.d(r,{addHistory:()=>ur,addIframe:()=>sr,addPframe:()=>fr,editHistory:()=>P,editHistoryEnd:()=>Z,reviveEdit:()=>or,reviveLastEdit:()=>lr});var t=Uint8Array,e=Uint16Array,i=Int32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(r,t){for(var n=new e(31),a=0;a<31;++a)n[a]=t+=1<<r[a-1];var l=new i(n[30]);for(a=1;a<30;++a)for(var o=n[a];o<n[a+1];++o)l[o]=o-n[a]<<5|a;return{b:n,r:l}},f=s(a,2),u=f.b,g=f.r;u[28]=258,g[258]=28;for(var h=s(l,0),c=h.b,v=h.r,d=new e(32768),p=0;p<32768;++p){var b=(43690&p)>>1|(21845&p)<<1;b=(61680&(b=(52428&b)>>2|(13107&b)<<2))>>4|(3855&b)<<4,d[p]=((65280&b)>>8|(255&b)<<8)>>1}var w=function(r,t,n){for(var i=r.length,a=0,l=new e(t);a<i;++a)r[a]&&++l[r[a]-1];var o,s=new e(t);for(a=1;a<t;++a)s[a]=s[a-1]+l[a-1]<<1;if(n){o=new e(1<<t);var f=15-t;for(a=0;a<i;++a)if(r[a])for(var u=a<<4|r[a],g=t-r[a],h=s[r[a]-1]++<<g,c=h|(1<<g)-1;h<=c;++h)o[d[h]>>f]=u}else for(o=new e(i),a=0;a<i;++a)r[a]&&(o[a]=d[s[r[a]-1]++]>>15-r[a]);return o},y=new t(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var m=new t(32);for(p=0;p<32;++p)m[p]=5;var A=w(y,9,0),M=w(y,9,1),N=w(m,5,0),R=w(m,5,1),E=function(r){for(var t=r[0],n=1;n<r.length;++n)r[n]>t&&(t=r[n]);return t},J=function(r,t,n){var e=t/8|0;return(r[e]|r[e+1]<<8)>>(7&t)&n},x=function(r,t){var n=t/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(7&t)},j=function(r){return(r+7)/8|0},S=function(r,n,e){return(null==n||n<0)&&(n=0),(null==e||e>r.length)&&(e=r.length),new t(r.subarray(n,e))},U=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],C=function(r,t,n){var e=new Error(t||U[r]);if(e.code=r,Error.captureStackTrace&&Error.captureStackTrace(e,C),!n)throw e;return e},D=function(r,t,n){n<<=7&t;var e=t/8|0;r[e]|=n,r[e+1]|=n>>8},O=function(r,t,n){n<<=7&t;var e=t/8|0;r[e]|=n,r[e+1]|=n>>8,r[e+2]|=n>>16},k=function(r,n){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var l=i.length,o=i.slice();if(!l)return{t:K,l:0};if(1==l){var s=new t(i[0].s+1);return s[i[0].s]=1,{t:s,l:1}}i.sort((function(r,t){return r.f-t.f})),i.push({s:-1,f:25001});var f=i[0],u=i[1],g=0,h=1,c=2;for(i[0]={s:-1,f:f.f+u.f,l:f,r:u};h!=l-1;)f=i[i[g].f<i[c].f?g++:c++],u=i[g!=h&&i[g].f<i[c].f?g++:c++],i[h++]={s:-1,f:f.f+u.f,l:f,r:u};var v=o[0].s;for(a=1;a<l;++a)o[a].s>v&&(v=o[a].s);var d=new e(v+1),p=I(i[h-1],d,0);if(p>n){a=0;var b=0,w=p-n,y=1<<w;for(o.sort((function(r,t){return d[t.s]-d[r.s]||r.f-t.f}));a<l;++a){var m=o[a].s;if(!(d[m]>n))break;b+=y-(1<<p-d[m]),d[m]=n}for(b>>=w;b>0;){var A=o[a].s;d[A]<n?b-=1<<n-d[A]++-1:++a}for(;a>=0&&b;--a){var M=o[a].s;d[M]==n&&(--d[M],++b)}p=n}return{t:new t(d),l:p}},I=function(r,t,n){return-1==r.s?Math.max(I(r.l,t,n+1),I(r.r,t,n+1)):t[r.s]=n},W=function(r){for(var t=r.length;t&&!r[--t];);for(var n=new e(++t),i=0,a=r[0],l=1,o=function(r){n[i++]=r},s=1;s<=t;++s)if(r[s]==a&&s!=t)++l;else{if(!a&&l>2){for(;l>138;l-=138)o(32754);l>2&&(o(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(o(a),--l;l>6;l-=6)o(8304);l>2&&(o(l-3<<5|8208),l=0)}for(;l--;)o(a);l=1,a=r[s]}return{c:n.subarray(0,i),n:t}},T=function(r,t){for(var n=0,e=0;e<t.length;++e)n+=r[e]*t[e];return n},Y=function(r,t,n){var e=n.length,i=j(t+2);r[i]=255&e,r[i+1]=e>>8,r[i+2]=255^r[i],r[i+3]=255^r[i+1];for(var a=0;a<e;++a)r[i+a+4]=n[a];return 8*(i+4+e)},G=function(r,t,n,i,s,f,u,g,h,c,v){D(t,v++,n),++s[256];for(var d=k(s,15),p=d.t,b=d.l,M=k(f,15),R=M.t,E=M.l,J=W(p),x=J.c,j=J.n,S=W(R),U=S.c,C=S.n,I=new e(19),G=0;G<x.length;++G)++I[31&x[G]];for(G=0;G<U.length;++G)++I[31&U[G]];for(var V=k(I,7),K=V.t,Q=V.l,L=19;L>4&&!K[o[L-1]];--L);var z,B,q,F,X=c+5<<3,H=T(s,y)+T(f,m)+u,P=T(s,p)+T(f,R)+u+14+3*L+T(I,K)+2*I[16]+3*I[17]+7*I[18];if(h>=0&&X<=H&&X<=P)return Y(t,v,r.subarray(h,h+c));if(D(t,v,1+(P<H)),v+=2,P<H){z=w(p,b,0),B=p,q=w(R,E,0),F=R;var _=w(K,Q,0);for(D(t,v,j-257),D(t,v+5,C-1),D(t,v+10,L-4),v+=14,G=0;G<L;++G)D(t,v+3*G,K[o[G]]);v+=3*L;for(var $=[x,U],Z=0;Z<2;++Z){var rr=$[Z];for(G=0;G<rr.length;++G){var tr=31&rr[G];D(t,v,_[tr]),v+=K[tr],tr>15&&(D(t,v,rr[G]>>5&127),v+=rr[G]>>12)}}}else z=A,B=y,q=N,F=m;for(G=0;G<g;++G){var nr=i[G];if(nr>255){O(t,v,z[257+(tr=nr>>18&31)]),v+=B[tr+257],tr>7&&(D(t,v,nr>>23&31),v+=a[tr]);var er=31&nr;O(t,v,q[er]),v+=F[er],er>3&&(O(t,v,nr>>5&8191),v+=l[er])}else O(t,v,z[nr]),v+=B[nr]}return O(t,v,z[256]),v+B[256]},V=new i([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K=new t(0),Q=function(r,n,o,s,f){if(!f&&(f={l:1},n.dictionary)){var u=n.dictionary.subarray(-32768),h=new t(u.length+r.length);h.set(u),h.set(r,u.length),r=h,f.w=u.length}return function(r,n,o,s,f,u){var h=u.z||r.length,c=new t(s+h+5*(1+Math.ceil(h/7e3))+f),d=c.subarray(s,c.length-f),p=u.l,b=7&(u.r||0);if(n){b&&(d[0]=u.r>>3);for(var w=V[n-1],y=w>>13,m=8191&w,A=(1<<o)-1,M=u.p||new e(32768),N=u.h||new e(A+1),R=Math.ceil(o/3),E=2*R,J=function(t){return(r[t]^r[t+1]<<R^r[t+2]<<E)&A},x=new i(25e3),U=new e(288),C=new e(32),D=0,O=0,k=u.i||0,I=0,W=u.w||0,T=0;k+2<h;++k){var K=J(k),Q=32767&k,L=N[K];if(M[Q]=L,N[K]=Q,W<=k){var z=h-k;if((D>7e3||I>24576)&&(z>423||!p)){b=G(r,d,0,x,U,C,O,I,T,k-T,b),I=D=O=0,T=k;for(var B=0;B<286;++B)U[B]=0;for(B=0;B<30;++B)C[B]=0}var q=2,F=0,X=m,H=Q-L&32767;if(z>2&&K==J(k-H))for(var P=Math.min(y,z)-1,_=Math.min(32767,k),$=Math.min(258,z);H<=_&&--X&&Q!=L;){if(r[k+q]==r[k+q-H]){for(var Z=0;Z<$&&r[k+Z]==r[k+Z-H];++Z);if(Z>q){if(q=Z,F=H,Z>P)break;var rr=Math.min(H,Z-2),tr=0;for(B=0;B<rr;++B){var nr=k-H+B&32767,er=nr-M[nr]&32767;er>tr&&(tr=er,L=nr)}}}H+=(Q=L)-(L=M[Q])&32767}if(F){x[I++]=268435456|g[q]<<18|v[F];var ir=31&g[q],ar=31&v[F];O+=a[ir]+l[ar],++U[257+ir],++C[ar],W=k+q,++D}else x[I++]=r[k],++U[r[k]]}}for(k=Math.max(k,W);k<h;++k)x[I++]=r[k],++U[r[k]];b=G(r,d,p,x,U,C,O,I,T,k-T,b),p||(u.r=7&b|d[b/8|0]<<3,b-=7,u.h=N,u.p=M,u.i=k,u.w=W)}else{for(k=u.w||0;k<h+p;k+=65535){var lr=k+65535;lr>=h&&(d[b/8|0]=p,lr=h),b=Y(d,b+1,r.subarray(k,lr))}u.i=h}return S(c,0,s+j(b)+f)}(r,null==n.level?6:n.level,null==n.mem?f.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):20:12+n.mem,o,s,f)};function L(r,n){return function(r,n,e,i){var s=r.length,f=i?i.length:0;if(!s||n.f&&!n.l)return e||new t(0);var g=!e,h=g||2!=n.i,v=n.i;g&&(e=new t(3*s));var d=function(r){var n=e.length;if(r>n){var i=new t(Math.max(2*n,r));i.set(e),e=i}},p=n.f||0,b=n.p||0,y=n.b||0,m=n.l,A=n.d,N=n.m,U=n.n,D=8*s;do{if(!m){p=J(r,b,1);var O=J(r,b+1,3);if(b+=3,!O){var k=r[(B=j(b)+4)-4]|r[B-3]<<8,I=B+k;if(I>s){v&&C(0);break}h&&d(y+k),e.set(r.subarray(B,I),y),n.b=y+=k,n.p=b=8*I,n.f=p;continue}if(1==O)m=M,A=R,N=9,U=5;else if(2==O){var W=J(r,b,31)+257,T=J(r,b+10,15)+4,Y=W+J(r,b+5,31)+1;b+=14;for(var G=new t(Y),V=new t(19),K=0;K<T;++K)V[o[K]]=J(r,b+3*K,7);b+=3*T;var Q=E(V),L=(1<<Q)-1,z=w(V,Q,1);for(K=0;K<Y;){var B,q=z[J(r,b,L)];if(b+=15&q,(B=q>>4)<16)G[K++]=B;else{var F=0,X=0;for(16==B?(X=3+J(r,b,3),b+=2,F=G[K-1]):17==B?(X=3+J(r,b,7),b+=3):18==B&&(X=11+J(r,b,127),b+=7);X--;)G[K++]=F}}var H=G.subarray(0,W),P=G.subarray(W);N=E(H),U=E(P),m=w(H,N,1),A=w(P,U,1)}else C(1);if(b>D){v&&C(0);break}}h&&d(y+131072);for(var _=(1<<N)-1,$=(1<<U)-1,Z=b;;Z=b){var rr=(F=m[x(r,b)&_])>>4;if((b+=15&F)>D){v&&C(0);break}if(F||C(2),rr<256)e[y++]=rr;else{if(256==rr){Z=b,m=null;break}var tr=rr-254;if(rr>264){var nr=a[K=rr-257];tr=J(r,b,(1<<nr)-1)+u[K],b+=nr}var er=A[x(r,b)&$],ir=er>>4;if(er||C(3),b+=15&er,P=c[ir],ir>3&&(nr=l[ir],P+=x(r,b)&(1<<nr)-1,b+=nr),b>D){v&&C(0);break}h&&d(y+131072);var ar=y+tr;if(y<P){var lr=f-P,or=Math.min(P,ar);for(lr+y<0&&C(3);y<or;++y)e[y]=i[lr+y]}for(;y<ar;++y)e[y]=e[y-P]}}n.l=m,n.p=Z,n.b=y,n.f=p,m&&(p=1,n.m=N,n.d=A,n.n=U)}while(!p);return y!=e.length&&g?S(e,0,y):e.subarray(0,y)}(r,{i:2},n&&n.out,n&&n.dictionary)}var z="undefined"!=typeof TextEncoder&&new TextEncoder,B="undefined"!=typeof TextDecoder&&new TextDecoder;try{B.decode(K,{stream:!0})}catch(r){}function q(r,t){if(t){for(var n="",e=0;e<r.length;e+=16384)n+=String.fromCharCode.apply(null,r.subarray(e,e+16384));return n}if(B)return B.decode(r);var i=function(r){for(var t="",n=0;;){var e=r[n++],i=(e>127)+(e>223)+(e>239);if(n+i>r.length)return{s:t,r:S(r,n-1)};i?3==i?(e=((15&e)<<18|(63&r[n++])<<12|(63&r[n++])<<6|63&r[n++])-65536,t+=String.fromCharCode(55296|e>>10,56320|1023&e)):t+=1&i?String.fromCharCode((31&e)<<6|63&r[n++]):String.fromCharCode((15&e)<<12|(63&r[n++])<<6|63&r[n++]):t+=String.fromCharCode(e)}}(r),a=i.s;return(n=i.r).length&&C(8),a}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var F=n(124),X=n(970);const H="progressive",P=[],_=(r,t)=>F(JSON.stringify(r),JSON.stringify(t)),$=(r,t)=>JSON.parse(X(JSON.stringify(r),t)),Z=()=>P.length-1,rr=(r,t)=>`${r}.${t}`,tr=r=>{const t=r.split(".");return{type:t[0],edit:t[1]}},nr=r=>{return(r=>btoa(String.fromCharCode.apply(null,r)))((n=function(r,n){if(n){for(var e=new t(r.length),i=0;i<r.length;++i)e[i]=r.charCodeAt(i);return e}if(z)return z.encode(r);var a=r.length,l=new t(r.length+(r.length>>1)),o=0,s=function(r){l[o++]=r};for(i=0;i<a;++i){if(o+5>l.length){var f=new t(o+8+(a-i<<1));f.set(l),l=f}var u=r.charCodeAt(i);u<128||n?s(u):u<2048?(s(192|u>>6),s(128|63&u)):u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&r.charCodeAt(++i))>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|63&u)):(s(224|u>>12),s(128|u>>6&63),s(128|63&u))}return S(l,0,o)}(r),Q(n,e||{},0,0)));var n,e},er=r=>q(L(atob(r).split("").map((function(r){return r.charCodeAt(0)})))),ir=r=>{for(let t=r;t>=0;t--){let r=P[t];if(r.match(/^i/))return{edit:tr(r).edit,index:t}}return null},ar=()=>ir(Z()),lr=()=>or(Z()),or=r=>{const t=ir(r);if(!t)throw new Error("Invalid history: no iframe found");if(t.index===r)return JSON.parse(er(t.edit));switch(H){case"direct":const n=tr(P[r]);return $(JSON.parse(er(t.edit)),JSON.parse(er(n.edit)));case"progressive":let e=JSON.parse(er(t.edit));for(let n=t.index+1;n<=r;n++)e=$(e,JSON.parse(er(tr(P[n]).edit)));return e;default:throw new Error("Unsupported patch algorithm")}},sr=r=>{const t=nr(JSON.stringify(r));P.push(rr("i",t))},fr=r=>{const t=ar();if(!t)throw new Error("Unable to add pframe: no iframe found");switch(H){case"direct":const n=nr(JSON.stringify(_(JSON.parse(er(t.edit)),r)));P.push(rr("p",n));break;case"progressive":const e=nr(JSON.stringify(_(lr(),r)));P.push(rr("p",e));break;default:throw new Error("Unsupported patch algorithm")}},ur=r=>{const t=ar();null===t||P.length-t.index>20?sr(r):fr(r)},gr=r=>document.querySelector(r);let hr="",cr=Z();const vr=()=>{const r=JSON.stringify(P).length;gr("#history-log").innerText=`size: ${r}\n\n`+P.map(((r,t)=>t===cr?`-> ${r}`:`   ${r}`)).join("\n")},dr=["i.q64FAA==","p.i4420DGM1Yk21FGKUcpIzcnJj1GyigGylYCCIKlYAA==","p.i4420DE0iNWJNtRRKs8vyklRArINdIxiYwE=","p.i4420DE0i9WJNtRR0olRyivNTUotKo5RsoqOVQKKAiVjYwE=","p.i4420DGyiNWJNtRRMtQxUgKygAKxsQA=","p.i4420DE2jNWJNtRR0jFWAjIMdIxiYwE=","p.i4420DE2jtWJNtRR0jHRMdUxUwJyDHSMYmMB","p.i4420DExiNWJNtRR0olRKkmtKIlRsopRilFSAgoa6BjGxgIA","p.i4420DGxjNWJNtRRCslIVQKyDHSMYmMB","p.i4420DE1itWJNtRRUigszUzOVkgqyi/PU0jLr1ACChvoGMXGAgA=","p.i4420DGziNWJNtRRUsgqzS0oVsgvSy1SAooY6BjFxgIA","p.i4420DG3jNWJNtRRUijJSFUCMg10jGJjAQ==","p.i4420LEwjtWJNtRRykmsqlRIUQJyDHSMYmMB","p.i4420LEwjtWJNtRRUlAC0kBubCwA","p.i4420LE0iNWJNtRRyk9XAjIMdIxiYwE=","p.i4420LE0itWJNtRR0lMC0gY6RrGxAA==","p.i4420DE2jtWJ1jXUMQNSBjqmZrGxAA==","p.i4420DG0iNWJNtRRKijKzE1VArINdMwNY2MB","p.i4420DEyjtWJNtRRilcC0gY65oaxsQA=","p.i4420DE2i9WJ1jXUMQJSBjqm5rGxAA==","p.i4420DE2j9WJNtRR0jFVAjIMdEzNYmMB","i.DcpJCoRADADAr4Scw8AgIvgObyLiEtduo7HbFf+u56obOzZGMMZd1NRIOGtvOZ+8LVlXjNM/BRRSlBE6PtwXk45h8X01QqmyT9DIAYO38wqysYL72BTXCbW0P3xe","p.i4420DExjNWJNtRR0jE01DE0VgJyDHRMzWJjAQ==","p.i4420DE0MIrViTbUUdKJUSoszS9JLY5RsoqOVQIKAiVjYwE=","p.i4420DE0NI7ViTbUUYpR8kssyM9Jzc+LUVICChnoGMXGAgA=","p.i4420DE0NIrVidY11DEEUoY6StVKQBoobIAiahWjFKNUC5WKjQUA","p.i4420DE0Mo3ViTbUUXJMyklVKE8sVvDUUQKKGOgYx8YCAA==","p.i4420DE0NovViTbUUVJILUpV8FQoTixXSM1JSlQCihroGMfGAgA=","p.i4420DE2i9WJNtRRMtJRAjIMdAwNLWJjAQ=="],pr={hello:"world",prime_numbers:[1,2,3,5,7,11,13],text:"The quick brown fox jumps over the lazy dog.",quotes:{Napoleon:"Able was I, ere I saw elba"}};window.ObjHistory=r,(()=>{let r;window.addEventListener("load",(()=>{const t=gr("json-editor"),n=gr("#undoBtn"),e=gr("#redoBtn");t.addEventListener("keyup",(n=>{var e;t.is_valid()&&t.value!=hr&&(e=()=>{cr!=Z()&&P.splice(cr+1,P.length),ur(t.json_value),cr=Z(),hr=t.value,vr()},clearTimeout(r),r=setTimeout(e,500))})),n.onclick=r=>{cr>0&&(cr--,t.json_value=or(cr),hr=t.value,vr())},e.onclick=r=>{cr<Z()&&(cr++,t.json_value=or(cr),hr=t.value,vr())}}))})(),window.addEventListener("load",(()=>{gr("#loadSample").onclick=()=>{gr("json-editor").value=JSON.stringify(pr),P.splice(0,P.length),[].push.apply(P,dr),(r=>{cr=r})(Z()),vr()}}))})()})();