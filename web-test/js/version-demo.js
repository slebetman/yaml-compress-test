(()=>{var t={606:t=>{var r=-1,e=1,n=0;function i(t,v,p,y,b){if(t===v)return t?[[n,t]]:[];if(null!=p){var A=function(t,r,e){var n="number"==typeof e?{index:e,length:0}:e.oldRange,i="number"==typeof e?null:e.newRange,s=t.length,a=r.length;if(0===n.length&&(null===i||0===i.length)){var o=n.index,l=t.slice(0,o),h=t.slice(o),u=i?i.index:null,f=o+a-s;if((null===u||u===f)&&!(f<0||f>a)){var g=r.slice(0,f);if((v=r.slice(f))===h){var c=Math.min(o,f);if((y=l.slice(0,c))===(A=g.slice(0,c)))return m(y,l.slice(c),g.slice(c),h)}}if(null===u||u===o){var d=o,v=(g=r.slice(0,d),r.slice(d));if(g===l){var p=Math.min(s-d,a-d);if((b=h.slice(h.length-p))===(w=v.slice(v.length-p)))return m(l,h.slice(0,h.length-p),v.slice(0,v.length-p),b)}}}if(n.length>0&&i&&0===i.length){var y=t.slice(0,n.index),b=t.slice(n.index+n.length);if(!(a<(c=y.length)+(p=b.length))){var A=r.slice(0,c),w=r.slice(a-p);if(y===A&&b===w)return m(y,t.slice(c,s-p),r.slice(c,a-p),b)}}return null}(t,v,p);if(A)return A}var w=a(t,v),E=t.substring(0,w);w=l(t=t.substring(w),v=v.substring(w));var x=t.substring(t.length-w),I=function(t,o){var h;if(!t)return[[e,o]];if(!o)return[[r,t]];var u=t.length>o.length?t:o,f=t.length>o.length?o:t,g=u.indexOf(f);if(-1!==g)return h=[[e,u.substring(0,g)],[n,f],[e,u.substring(g+f.length)]],t.length>o.length&&(h[0][0]=h[2][0]=r),h;if(1===f.length)return[[r,t],[e,o]];var c=function(t,r){var e=t.length>r.length?t:r,n=t.length>r.length?r:t;if(e.length<4||2*n.length<e.length)return null;function i(t,r,e){for(var n,i,s,o,h=t.substring(e,e+Math.floor(t.length/4)),u=-1,f="";-1!==(u=r.indexOf(h,u+1));){var g=a(t.substring(e),r.substring(u)),c=l(t.substring(0,e),r.substring(0,u));f.length<c+g&&(f=r.substring(u-c,u)+r.substring(u,u+g),n=t.substring(0,e-c),i=t.substring(e+g),s=r.substring(0,u-c),o=r.substring(u+g))}return 2*f.length>=t.length?[n,i,s,o,f]:null}var s,o,h,u,f,g=i(e,n,Math.ceil(e.length/4)),c=i(e,n,Math.ceil(e.length/2));return g||c?(s=c?g&&g[4].length>c[4].length?g:c:g,t.length>r.length?(o=s[0],h=s[1],u=s[2],f=s[3]):(u=s[0],f=s[1],o=s[2],h=s[3]),[o,h,u,f,s[4]]):null}(t,o);if(c){var d=c[0],v=c[1],p=c[2],y=c[3],b=c[4],m=i(d,p),A=i(v,y);return m.concat([[n,b]],A)}return function(t,n){for(var i=t.length,a=n.length,o=Math.ceil((i+a)/2),l=o,h=2*o,u=new Array(h),f=new Array(h),g=0;g<h;g++)u[g]=-1,f[g]=-1;u[l+1]=0,f[l+1]=0;for(var c=i-a,d=c%2!=0,v=0,p=0,y=0,b=0,m=0;m<o;m++){for(var A=-m+v;A<=m-p;A+=2){for(var w=l+A,E=(N=A===-m||A!==m&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-A;N<i&&E<a&&t.charAt(N)===n.charAt(E);)N++,E++;if(u[w]=N,N>i)p+=2;else if(E>a)v+=2;else if(d&&(M=l+c-A)>=0&&M<h&&-1!==f[M]&&N>=(I=i-f[M]))return s(t,n,N,E)}for(var x=-m+y;x<=m-b;x+=2){for(var I,M=l+x,R=(I=x===-m||x!==m&&f[M-1]<f[M+1]?f[M+1]:f[M-1]+1)-x;I<i&&R<a&&t.charAt(i-I-1)===n.charAt(a-R-1);)I++,R++;if(f[M]=I,I>i)b+=2;else if(R>a)y+=2;else if(!d){var N;if((w=l+c-x)>=0&&w<h&&-1!==u[w])if(E=l+(N=u[w])-w,N>=(I=i-I))return s(t,n,N,E)}}}return[[r,t],[e,n]]}(t,o)}(t=t.substring(0,t.length-w),v=v.substring(0,v.length-w));return E&&I.unshift([n,E]),x&&I.push([n,x]),d(I,b),y&&function(t){for(var i=!1,s=[],a=0,v=null,p=0,y=0,b=0,m=0,A=0;p<t.length;)t[p][0]==n?(s[a++]=p,y=m,b=A,m=0,A=0,v=t[p][1]):(t[p][0]==e?m+=t[p][1].length:A+=t[p][1].length,v&&v.length<=Math.max(y,b)&&v.length<=Math.max(m,A)&&(t.splice(s[a-1],0,[r,v]),t[s[a-1]+1][0]=e,a--,p=--a>0?s[a-1]:-1,y=0,b=0,m=0,A=0,v=null,i=!0)),p++;for(i&&d(t),function(t){function r(t,r){if(!t||!r)return 6;var e=t.charAt(t.length-1),n=r.charAt(0),i=e.match(h),s=n.match(h),a=i&&e.match(u),o=s&&n.match(u),l=a&&e.match(f),d=o&&n.match(f),v=l&&t.match(g),p=d&&r.match(c);return v||p?5:l||d?4:i&&!a&&o?3:a||o?2:i||s?1:0}for(var e=1;e<t.length-1;){if(t[e-1][0]==n&&t[e+1][0]==n){var i=t[e-1][1],s=t[e][1],a=t[e+1][1],o=l(i,s);if(o){var d=s.substring(s.length-o);i=i.substring(0,i.length-o),s=d+s.substring(0,s.length-o),a=d+a}for(var v=i,p=s,y=a,b=r(i,s)+r(s,a);s.charAt(0)===a.charAt(0);){i+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);var m=r(i,s)+r(s,a);m>=b&&(b=m,v=i,p=s,y=a)}t[e-1][1]!=v&&(v?t[e-1][1]=v:(t.splice(e-1,1),e--),t[e][1]=p,y?t[e+1][1]=y:(t.splice(e+1,1),e--))}e++}}(t),p=1;p<t.length;){if(t[p-1][0]==r&&t[p][0]==e){var w=t[p-1][1],E=t[p][1],x=o(w,E),I=o(E,w);x>=I?(x>=w.length/2||x>=E.length/2)&&(t.splice(p,0,[n,E.substring(0,x)]),t[p-1][1]=w.substring(0,w.length-x),t[p+1][1]=E.substring(x),p++):(I>=w.length/2||I>=E.length/2)&&(t.splice(p,0,[n,w.substring(0,I)]),t[p-1][0]=e,t[p-1][1]=E.substring(0,E.length-I),t[p+1][0]=r,t[p+1][1]=w.substring(I),p++),p++}p++}}(I),I}function s(t,r,e,n){var s=t.substring(0,e),a=r.substring(0,n),o=t.substring(e),l=r.substring(n),h=i(s,a),u=i(o,l);return h.concat(u)}function a(t,r){if(!t||!r||t.charAt(0)!==r.charAt(0))return 0;for(var e=0,n=Math.min(t.length,r.length),i=n,s=0;e<i;)t.substring(s,i)==r.substring(s,i)?s=e=i:n=i,i=Math.floor((n-e)/2+e);return v(t.charCodeAt(i-1))&&i--,i}function o(t,r){var e=t.length,n=r.length;if(0==e||0==n)return 0;e>n?t=t.substring(e-n):e<n&&(r=r.substring(0,e));var i=Math.min(e,n);if(t==r)return i;for(var s=0,a=1;;){var o=t.substring(i-a),l=r.indexOf(o);if(-1==l)return s;a+=l,0!=l&&t.substring(i-a)!=r.substring(0,a)||(s=a,a++)}}function l(t,r){if(!t||!r||t.slice(-1)!==r.slice(-1))return 0;for(var e=0,n=Math.min(t.length,r.length),i=n,s=0;e<i;)t.substring(t.length-i,t.length-s)==r.substring(r.length-i,r.length-s)?s=e=i:n=i,i=Math.floor((n-e)/2+e);return p(t.charCodeAt(t.length-i))&&i--,i}var h=/[^a-zA-Z0-9]/,u=/\s/,f=/[\r\n]/,g=/\n\r?\n$/,c=/^\r?\n\r?\n/;function d(t,i){t.push([n,""]);for(var s,o=0,h=0,u=0,f="",g="";o<t.length;)if(o<t.length-1&&!t[o][1])t.splice(o,1);else switch(t[o][0]){case e:u++,g+=t[o][1],o++;break;case r:h++,f+=t[o][1],o++;break;case n:var c=o-u-h-1;if(i){if(c>=0&&b(t[c][1])){var v=t[c][1].slice(-1);if(t[c][1]=t[c][1].slice(0,-1),f=v+f,g=v+g,!t[c][1]){t.splice(c,1),o--;var p=c-1;t[p]&&t[p][0]===e&&(u++,g=t[p][1]+g,p--),t[p]&&t[p][0]===r&&(h++,f=t[p][1]+f,p--),c=p}}y(t[o][1])&&(v=t[o][1].charAt(0),t[o][1]=t[o][1].slice(1),f+=v,g+=v)}if(o<t.length-1&&!t[o][1]){t.splice(o,1);break}if(f.length>0||g.length>0){f.length>0&&g.length>0&&(0!==(s=a(g,f))&&(c>=0?t[c][1]+=g.substring(0,s):(t.splice(0,0,[n,g.substring(0,s)]),o++),g=g.substring(s),f=f.substring(s)),0!==(s=l(g,f))&&(t[o][1]=g.substring(g.length-s)+t[o][1],g=g.substring(0,g.length-s),f=f.substring(0,f.length-s)));var m=u+h;0===f.length&&0===g.length?(t.splice(o-m,m),o-=m):0===f.length?(t.splice(o-m,m,[e,g]),o=o-m+1):0===g.length?(t.splice(o-m,m,[r,f]),o=o-m+1):(t.splice(o-m,m,[r,f],[e,g]),o=o-m+2)}0!==o&&t[o-1][0]===n?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,u=0,h=0,f="",g=""}""===t[t.length-1][1]&&t.pop();var A=!1;for(o=1;o<t.length-1;)t[o-1][0]===n&&t[o+1][0]===n&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)===t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),A=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),A=!0)),o++;A&&d(t,i)}function v(t){return t>=55296&&t<=56319}function p(t){return t>=56320&&t<=57343}function y(t){return p(t.charCodeAt(0))}function b(t){return v(t.charCodeAt(t.length-1))}function m(t,i,s,a){return b(t)||y(a)?null:function(t){for(var r=[],e=0;e<t.length;e++)t[e][1].length>0&&r.push(t[e]);return r}([[n,t],[r,i],[e,s],[n,a]])}function A(t,r,e,n){return i(t,r,e,n,!0)}A.INSERT=e,A.DELETE=r,A.EQUAL=n,t.exports=A},124:(t,r,e)=>{const n=e(606);t.exports=function(t,r){const e=n(t,r);for(let t=0;t<e.length;t++){const r=e[t];r[0]<1&&(r[1]=r[1].length)}return e}},970:t=>{t.exports=function(t,r){let e="",n=0;for(let i=0;i<r.length;i++){const s=r[i],a=s[0],o=s[1];-1==a?n+=o:e+=0==a?t.slice(n,n+=o):o}return e}}},r={};function e(n){var i=r[n];if(void 0!==i)return i.exports;var s=r[n]={exports:{}};return t[n](s,s.exports,e),s.exports}(()=>{"use strict";const t=t=>document.querySelector(t);var r=Uint8Array,n=Uint16Array,i=Int32Array,s=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(t,r){for(var e=new n(31),s=0;s<31;++s)e[s]=r+=1<<t[s-1];var a=new i(e[30]);for(s=1;s<30;++s)for(var o=e[s];o<e[s+1];++o)a[o]=o-e[s]<<5|s;return{b:e,r:a}},h=l(s,2),u=h.b,f=h.r;u[28]=258,f[258]=28;for(var g=l(a,0),c=g.b,d=g.r,v=new n(32768),p=0;p<32768;++p){var y=(43690&p)>>1|(21845&p)<<1;y=(61680&(y=(52428&y)>>2|(13107&y)<<2))>>4|(3855&y)<<4,v[p]=((65280&y)>>8|(255&y)<<8)>>1}var b=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,l=new n(r);for(s=1;s<r;++s)l[s]=l[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(s=0;s<i;++s)if(t[s])for(var u=s<<4|t[s],f=r-t[s],g=l[t[s]-1]++<<f,c=g|(1<<f)-1;g<=c;++g)o[v[g]>>h]=u}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=v[l[t[s]-1]++]>>15-t[s]);return o},m=new r(288);for(p=0;p<144;++p)m[p]=8;for(p=144;p<256;++p)m[p]=9;for(p=256;p<280;++p)m[p]=7;for(p=280;p<288;++p)m[p]=8;var A=new r(32);for(p=0;p<32;++p)A[p]=5;var w=b(m,9,0),E=b(m,9,1),x=b(A,5,0),I=b(A,5,1),M=function(t){for(var r=t[0],e=1;e<t.length;++e)t[e]>r&&(r=t[e]);return r},R=function(t,r,e){var n=r/8|0;return(t[n]|t[n+1]<<8)>>(7&r)&e},N=function(t,r){var e=r/8|0;return(t[e]|t[e+1]<<8|t[e+2]<<16)>>(7&r)},J=function(t){return(t+7)/8|0},S=function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new r(t.subarray(e,n))},H=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],j=function(t,r,e){var n=new Error(r||H[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,j),!e)throw n;return n},U=function(t,r,e){e<<=7&r;var n=r/8|0;t[n]|=e,t[n+1]|=e>>8},C=function(t,r,e){e<<=7&r;var n=r/8|0;t[n]|=e,t[n+1]|=e>>8,t[n+2]|=e>>16},D=function(t,e){for(var i=[],s=0;s<t.length;++s)t[s]&&i.push({s,f:t[s]});var a=i.length,o=i.slice();if(!a)return{t:G,l:0};if(1==a){var l=new r(i[0].s+1);return l[i[0].s]=1,{t:l,l:1}}i.sort((function(t,r){return t.f-r.f})),i.push({s:-1,f:25001});var h=i[0],u=i[1],f=0,g=1,c=2;for(i[0]={s:-1,f:h.f+u.f,l:h,r:u};g!=a-1;)h=i[i[f].f<i[c].f?f++:c++],u=i[f!=g&&i[f].f<i[c].f?f++:c++],i[g++]={s:-1,f:h.f+u.f,l:h,r:u};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var v=new n(d+1),p=k(i[g-1],v,0);if(p>e){s=0;var y=0,b=p-e,m=1<<b;for(o.sort((function(t,r){return v[r.s]-v[t.s]||t.f-r.f}));s<a;++s){var A=o[s].s;if(!(v[A]>e))break;y+=m-(1<<p-v[A]),v[A]=e}for(y>>=b;y>0;){var w=o[s].s;v[w]<e?y-=1<<e-v[w]++-1:++s}for(;s>=0&&y;--s){var E=o[s].s;v[E]==e&&(--v[E],++y)}p=e}return{t:new r(v),l:p}},k=function(t,r,e){return-1==t.s?Math.max(k(t.l,r,e+1),k(t.r,r,e+1)):r[t.s]=e},O=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},l=1;l<=r;++l)if(t[l]==s&&l!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[l]}return{c:e.subarray(0,i),n:r}},T=function(t,r){for(var e=0,n=0;n<r.length;++n)e+=t[n]*r[n];return e},L=function(t,r,e){var n=e.length,i=J(r+2);t[i]=255&n,t[i+1]=n>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<n;++s)t[i+s+4]=e[s];return 8*(i+4+n)},W=function(t,r,e,i,l,h,u,f,g,c,d){U(r,d++,e),++l[256];for(var v=D(l,15),p=v.t,y=v.l,E=D(h,15),I=E.t,M=E.l,R=O(p),N=R.c,J=R.n,S=O(I),H=S.c,j=S.n,k=new n(19),W=0;W<N.length;++W)++k[31&N[W]];for(W=0;W<H.length;++W)++k[31&H[W]];for(var Y=D(k,7),G=Y.t,V=Y.l,z=19;z>4&&!G[o[z-1]];--z);var K,F,Q,B,q=c+5<<3,X=T(l,m)+T(h,A)+u,_=T(l,p)+T(h,I)+u+14+3*z+T(k,G)+2*k[16]+3*k[17]+7*k[18];if(g>=0&&q<=X&&q<=_)return L(r,d,t.subarray(g,g+c));if(U(r,d,1+(_<X)),d+=2,_<X){K=b(p,y,0),F=p,Q=b(I,M,0),B=I;var P=b(G,V,0);for(U(r,d,J-257),U(r,d+5,j-1),U(r,d+10,z-4),d+=14,W=0;W<z;++W)U(r,d+3*W,G[o[W]]);d+=3*z;for(var $=[N,H],Z=0;Z<2;++Z){var tt=$[Z];for(W=0;W<tt.length;++W){var rt=31&tt[W];U(r,d,P[rt]),d+=G[rt],rt>15&&(U(r,d,tt[W]>>5&127),d+=tt[W]>>12)}}}else K=w,F=m,Q=x,B=A;for(W=0;W<f;++W){var et=i[W];if(et>255){C(r,d,K[257+(rt=et>>18&31)]),d+=F[rt+257],rt>7&&(U(r,d,et>>23&31),d+=s[rt]);var nt=31&et;C(r,d,Q[nt]),d+=B[nt],nt>3&&(C(r,d,et>>5&8191),d+=a[nt])}else C(r,d,K[et]),d+=F[et]}return C(r,d,K[256]),d+F[256]},Y=new i([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),G=new r(0),V=function(t,e,o,l,h){if(!h&&(h={l:1},e.dictionary)){var u=e.dictionary.subarray(-32768),g=new r(u.length+t.length);g.set(u),g.set(t,u.length),t=g,h.w=u.length}return function(t,e,o,l,h,u){var g=u.z||t.length,c=new r(l+g+5*(1+Math.ceil(g/7e3))+h),v=c.subarray(l,c.length-h),p=u.l,y=7&(u.r||0);if(e){y&&(v[0]=u.r>>3);for(var b=Y[e-1],m=b>>13,A=8191&b,w=(1<<o)-1,E=u.p||new n(32768),x=u.h||new n(w+1),I=Math.ceil(o/3),M=2*I,R=function(r){return(t[r]^t[r+1]<<I^t[r+2]<<M)&w},N=new i(25e3),H=new n(288),j=new n(32),U=0,C=0,D=u.i||0,k=0,O=u.w||0,T=0;D+2<g;++D){var G=R(D),V=32767&D,z=x[G];if(E[V]=z,x[G]=V,O<=D){var K=g-D;if((U>7e3||k>24576)&&(K>423||!p)){y=W(t,v,0,N,H,j,C,k,T,D-T,y),k=U=C=0,T=D;for(var F=0;F<286;++F)H[F]=0;for(F=0;F<30;++F)j[F]=0}var Q=2,B=0,q=A,X=V-z&32767;if(K>2&&G==R(D-X))for(var _=Math.min(m,K)-1,P=Math.min(32767,D),$=Math.min(258,K);X<=P&&--q&&V!=z;){if(t[D+Q]==t[D+Q-X]){for(var Z=0;Z<$&&t[D+Z]==t[D+Z-X];++Z);if(Z>Q){if(Q=Z,B=X,Z>_)break;var tt=Math.min(X,Z-2),rt=0;for(F=0;F<tt;++F){var et=D-X+F&32767,nt=et-E[et]&32767;nt>rt&&(rt=nt,z=et)}}}X+=(V=z)-(z=E[V])&32767}if(B){N[k++]=268435456|f[Q]<<18|d[B];var it=31&f[Q],st=31&d[B];C+=s[it]+a[st],++H[257+it],++j[st],O=D+Q,++U}else N[k++]=t[D],++H[t[D]]}}for(D=Math.max(D,O);D<g;++D)N[k++]=t[D],++H[t[D]];y=W(t,v,p,N,H,j,C,k,T,D-T,y),p||(u.r=7&y|v[y/8|0]<<3,y-=7,u.h=x,u.p=E,u.i=D,u.w=O)}else{for(D=u.w||0;D<g+p;D+=65535){var at=D+65535;at>=g&&(v[y/8|0]=p,at=g),y=L(v,y+1,t.subarray(D,at))}u.i=g}return S(c,0,l+J(y)+h)}(t,null==e.level?6:e.level,null==e.mem?h.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,o,l,h)};function z(t,e){return function(t,e,n,i){var l=t.length,h=i?i.length:0;if(!l||e.f&&!e.l)return n||new r(0);var f=!n,g=f||2!=e.i,d=e.i;f&&(n=new r(3*l));var v=function(t){var e=n.length;if(t>e){var i=new r(Math.max(2*e,t));i.set(n),n=i}},p=e.f||0,y=e.p||0,m=e.b||0,A=e.l,w=e.d,x=e.m,H=e.n,U=8*l;do{if(!A){p=R(t,y,1);var C=R(t,y+1,3);if(y+=3,!C){var D=t[(F=J(y)+4)-4]|t[F-3]<<8,k=F+D;if(k>l){d&&j(0);break}g&&v(m+D),n.set(t.subarray(F,k),m),e.b=m+=D,e.p=y=8*k,e.f=p;continue}if(1==C)A=E,w=I,x=9,H=5;else if(2==C){var O=R(t,y,31)+257,T=R(t,y+10,15)+4,L=O+R(t,y+5,31)+1;y+=14;for(var W=new r(L),Y=new r(19),G=0;G<T;++G)Y[o[G]]=R(t,y+3*G,7);y+=3*T;var V=M(Y),z=(1<<V)-1,K=b(Y,V,1);for(G=0;G<L;){var F,Q=K[R(t,y,z)];if(y+=15&Q,(F=Q>>4)<16)W[G++]=F;else{var B=0,q=0;for(16==F?(q=3+R(t,y,3),y+=2,B=W[G-1]):17==F?(q=3+R(t,y,7),y+=3):18==F&&(q=11+R(t,y,127),y+=7);q--;)W[G++]=B}}var X=W.subarray(0,O),_=W.subarray(O);x=M(X),H=M(_),A=b(X,x,1),w=b(_,H,1)}else j(1);if(y>U){d&&j(0);break}}g&&v(m+131072);for(var P=(1<<x)-1,$=(1<<H)-1,Z=y;;Z=y){var tt=(B=A[N(t,y)&P])>>4;if((y+=15&B)>U){d&&j(0);break}if(B||j(2),tt<256)n[m++]=tt;else{if(256==tt){Z=y,A=null;break}var rt=tt-254;if(tt>264){var et=s[G=tt-257];rt=R(t,y,(1<<et)-1)+u[G],y+=et}var nt=w[N(t,y)&$],it=nt>>4;if(nt||j(3),y+=15&nt,_=c[it],it>3&&(et=a[it],_+=N(t,y)&(1<<et)-1,y+=et),y>U){d&&j(0);break}g&&v(m+131072);var st=m+rt;if(m<_){var at=h-_,ot=Math.min(_,st);for(at+m<0&&j(3);m<ot;++m)n[m]=i[at+m]}for(;m<st;++m)n[m]=n[m-_]}}e.l=A,e.p=Z,e.b=m,e.f=p,A&&(p=1,e.m=x,e.d=w,e.n=H)}while(!p);return m!=n.length&&f?S(n,0,m):n.subarray(0,m)}(t,{i:2},e&&e.out,e&&e.dictionary)}var K="undefined"!=typeof TextEncoder&&new TextEncoder,F="undefined"!=typeof TextDecoder&&new TextDecoder;try{F.decode(G,{stream:!0})}catch(t){}function Q(t,r){if(r){for(var e="",n=0;n<t.length;n+=16384)e+=String.fromCharCode.apply(null,t.subarray(n,n+16384));return e}if(F)return F.decode(t);var i=function(t){for(var r="",e=0;;){var n=t[e++],i=(n>127)+(n>223)+(n>239);if(e+i>t.length)return{s:r,r:S(t,e-1)};i?3==i?(n=((15&n)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,r+=String.fromCharCode(55296|n>>10,56320|1023&n)):r+=1&i?String.fromCharCode((31&n)<<6|63&t[e++]):String.fromCharCode((15&n)<<12|(63&t[e++])<<6|63&t[e++]):r+=String.fromCharCode(n)}}(t),s=i.s;return(e=i.r).length&&j(8),s}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var B=e(124),q=e(970);const X=(t,r)=>B(JSON.stringify(t),JSON.stringify(r)),_=(t,r)=>JSON.parse(q(JSON.stringify(t),r)),P=(t,r)=>[t,r],$=t=>({type:t[0],edit:t[1]}),Z=t=>{return e=function(t,e){if(e){for(var n=new r(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}if(K)return K.encode(t);var s=t.length,a=new r(t.length+(t.length>>1)),o=0,l=function(t){a[o++]=t};for(i=0;i<s;++i){if(o+5>a.length){var h=new r(o+8+(s-i<<1));h.set(a),a=h}var u=t.charCodeAt(i);u<128||e?l(u):u<2048?(l(192|u>>6),l(128|63&u)):u>55295&&u<57344?(l(240|(u=65536+(1047552&u)|1023&t.charCodeAt(++i))>>18),l(128|u>>12&63),l(128|u>>6&63),l(128|63&u)):(l(224|u>>12),l(128|u>>6&63),l(128|63&u))}return S(a,0,o)}(t),V(e,n||{},0,0);var e,n},tt=t=>Q(z(t));class rt{constructor({patchAlgorithm:t,iframeInterval:r}){this.IFRAME_INTERVAL=r||20,this.PATCH_ALGORITHM=t||"progressive",this.editHistory=[]}editHistoryEnd(){return this.editHistory.length-1}get length(){return this.editHistory.length}#t(t){for(let r=t;r>=0;r--){let t=this.editHistory[r];if("i"===t[0])return{edit:$(t).edit,index:r}}return null}#r(){return this.#t(this.editHistoryEnd())}reviveLastEdit(){return this.reviveEdit(this.editHistoryEnd())}reviveEdit(t){const r=this.#t(t);if(!r)throw new Error("Invalid history: no iframe found");if(r.index===t)return JSON.parse(tt(r.edit));switch(this.PATCH_ALGORITHM){case"direct":const e=$(this.editHistory[t]);return _(JSON.parse(tt(r.edit)),JSON.parse(tt(e.edit)));case"progressive":let n=JSON.parse(tt(r.edit));for(let e=r.index+1;e<=t;e++)n=_(n,JSON.parse(tt($(this.editHistory[e]).edit)));return n;default:throw new Error("Unsupported patch algorithm")}}setIframe(t,r){const e=Z(JSON.stringify(r));this.editHistory[t]=P("i",e)}#e(t){const r=Z(JSON.stringify(t));this.editHistory.push(P("i",r))}#n(t){const r=this.#r();if(!r)throw new Error("Unable to add pframe: no iframe found");switch(this.PATCH_ALGORITHM){case"direct":const e=Z(JSON.stringify(X(JSON.parse(tt(r.edit)),t)));this.editHistory.push(P("p",e));break;case"progressive":const n=Z(JSON.stringify(X(this.reviveLastEdit(),t)));this.editHistory.push(P("p",n));break;default:throw new Error("Unsupported patch algorithm")}}add(t){const r=this.#r();null===r||this.editHistory.length-r.index>this.IFRAME_INTERVAL?this.#e(t):this.#n(t)}dumpEditHistory(){return this.editHistory.map((t=>`${t[0]}.${(t=>btoa(String.fromCharCode.apply(null,t)))(t[1])}`))}}const et=new class{#i;#s;maxHistorySize;constructor(t){this.#i=new rt({patchAlgorithm:t?.patchAlgorithm,iframeInterval:t?.iframeInterval}),this.maxHistorySize=t?.maxHistorySize||Number.POSITIVE_INFINITY,this.#s=0}get editHistory(){return this.#i.editHistory}get currentIndex(){return this.#s}add(t){if(this.#s<this.#i.editHistoryEnd()&&this.#i.editHistory.splice(this.#s+1,this.#i.length),this.#i.add(t),this.#i.length>this.maxHistorySize){const t=this.#i.length-this.maxHistorySize,r=this.#i.reviveEdit(t);this.#i.setIframe(t,r),this.#i.editHistory.splice(0,t)}this.#s=this.#i.editHistoryEnd()}loadFullHistory(t){this.#i.editHistory.splice(0,this.#i.length),[].push.apply(this.#i.editHistory,t),this.#s=this.#i.editHistoryEnd()}undo(t){this.#s>0&&(this.#s--,t&&t(this.#i.reviveEdit(this.#s)))}redo(t){this.#s<this.#i.editHistoryEnd()&&(this.#s++,t&&t(this.#i.reviveEdit(this.#s)))}dumpEditHistory(){return this.#i.dumpEditHistory().map(((t,r)=>r===this.#s?`-> ${t}`:`   ${t}`))}};let nt="";const it=()=>{const r=et.editHistory.reduce(((t,r)=>t+1+r[1].length),0);t("#history-log").innerText=`size: ${r} bytes\n\n`+et.dumpEditHistory().join("\n")},st=["i.q64FAA==","p.i4420DGM1Yk21FGKUcpIzcnJj1GyigGylYCCIKlYAA==","p.i4420DE0iNWJNtRRKs8vyklRArINdIxiYwE=","p.i4420DE0i9WJNtRR0olRyivNTUotKo5RsoqOVQKKAiVjYwE=","p.i4420DGyiNWJNtRRMtQxUgKygAKxsQA=","p.i4420DE2jNWJNtRR0jFWAjIMdIxiYwE=","p.i4420DE2jtWJNtRR0jHRMdUxUwJyDHSMYmMB","p.i4420DExiNWJNtRR0olRKkmtKIlRsopRilFSAgoa6BjGxgIA","p.i4420DGxjNWJNtRRCslIVQKyDHSMYmMB","p.i4420DE1itWJNtRRUigszUzOVkgqyi/PU0jLr1ACChvoGMXGAgA=","p.i4420DGziNWJNtRRUsgqzS0oVsgvSy1SAooY6BjFxgIA","p.i4420DG3jNWJNtRRUijJSFUCMg10jGJjAQ==","p.i4420LEwjtWJNtRRykmsqlRIUQJyDHSMYmMB","p.i4420LEwjtWJNtRRUlAC0kBubCwA","p.i4420LE0iNWJNtRRyk9XAjIMdIxiYwE=","p.i4420LE0itWJNtRR0lMC0gY6RrGxAA==","p.i4420DE2jtWJ1jXUMQNSBjqmZrGxAA==","p.i4420DG0iNWJNtRRKijKzE1VArINdMwNY2MB","p.i4420DEyjtWJNtRRilcC0gY65oaxsQA=","p.i4420DE2i9WJ1jXUMQJSBjqm5rGxAA==","p.i4420DE2j9WJNtRR0jFVAjIMdEzNYmMB","i.DcpJCoRADADAr4Scw8AgIvgObyLiEtduo7HbFf+u56obOzZGMMZd1NRIOGtvOZ+8LVlXjNM/BRRSlBE6PtwXk45h8X01QqmyT9DIAYO38wqysYL72BTXCbW0P3xe","p.i4420DExjNWJNtRR0jE01DE0VgJyDHRMzWJjAQ==","p.i4420DE0MIrViTbUUdKJUSoszS9JLY5RsoqOVQIKAiVjYwE=","p.i4420DE0NI7ViTbUUYpR8kssyM9Jzc+LUVICChnoGMXGAgA=","p.i4420DE0NIrVidY11DEEUoY6StVKQBoobIAiahWjFKNUC5WKjQUA","p.i4420DE0Mo3ViTbUUXJMyklVKE8sVvDUUQKKGOgYx8YCAA==","p.i4420DE0NovViTbUUVJILUpV8FQoTixXSM1JSlQCihroGMfGAgA=","p.i4420DE2i9WJNtRRMtJRAjIMdAwNLWJjAQ==","p.i4420DE0No/VidY11DEEUgY6JkDSUEdJRwnMMzSJjQUA"].map((t=>{let r=t.split(".");var e;return r[1]=(e=r[1],atob(e).split("").map((function(t){return t.charCodeAt(0)}))),r})),at={hello:"world",prime_numbers:[1,2,3,5,7,11,13],text:"The quick brown fox jumps over the lazy dog.",quotes:{Napoleon:"Able was I ere, I saw elba"}};window.ObjHistory=history,(()=>{let r;window.addEventListener("load",(()=>{const e=t("json-editor"),n=t("#commitBtn"),i=t("#restoreBtn");e.addEventListener("keyup",(t=>{var n;e.is_valid()&&e.value!=nt&&(n=()=>{et.add(e.json_value),nt=e.value,it()},clearTimeout(r),r=setTimeout(n,500))})),n.onclick=t=>{et.undo((t=>{e.json_value=t,nt=e.value,it()}))},i.onclick=t=>{et.redo((t=>{e.json_value=t,nt=e.value,it()}))}}))})(),window.addEventListener("load",(()=>{t("#loadSample").onclick=()=>{var r;t("json-editor").value=JSON.stringify(at),r=st,et.loadFullHistory(r),it()}}))})()})();